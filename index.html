<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canada Telephone Directory</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>Canada Telephone Directory</h1>
    <p>This directory is for community members only. Home-based business information included with consent, by request, or provided directly by the business itself.</p>
  </header>
  <main id="province-list">
    <!-- Provinces and communities will be dynamically populated here -->
  </main>
  <footer>
    <p>To update or remove your listing, please see the 'contact us' link.</p>
  </footer>
  <script>
    // Example structure for provinces and communities
    const provinces = {
      "British Columbia": [
        { name: "Cluculz Lake", community_id: 1 },
        { name: "Dease Lake", community_id: 2 },
        { name: "Houston", community_id: 3 },
        { name: "Vanderhoof", community_id: 4 },
        { name: "Fort St. James", community_id: 5 }
      ],
      "Alberta": [
        { name: "Vermilion", community_id: 6 },
        { name: "Barrhead", community_id: 7 },
        { name: "Peace River", community_id: 8 },
        { name: "Westlock", community_id: 9 },
        { name: "Devon", community_id: 10 }
      ]
      // Add more provinces and communities as needed
    };

    // Populate provinces and communities on the home page
    const provinceList = document.getElementById("province-list");

    Object.keys(provinces).forEach(province => {
      const provinceSection = document.createElement("section");
      const provinceHeader = document.createElement("h2");
      
      provinceHeader.textContent = province;
      provinceSection.appendChild(provinceHeader);

      const communityList = document.createElement("ul");
      
      provinces[province].forEach(community => {
        const communityItem = document.createElement("li");
        const communityLink = document.createElement("a");

        // Link to the community template with query parameters
        communityLink.href = `community.html?community_id=${encodeURIComponent(community.community_id)}`;
        communityLink.textContent = community.name;

        communityItem.appendChild(communityLink);
        communityList.appendChild(communityItem);
      });

      provinceSection.appendChild(communityList);
      provinceList.appendChild(provinceSection);
    });
  </script>
</body>
</html>
